configs:
  cm:
    resource.exclusions: |
      - apiGroups:
          - cilium.io
        kinds:
          - CiliumIdentity
    resource.customizations.ignoreDifferences.admissionregistration.k8s.io_MutatingWebhookConfiguration: |
      jsonPointers:
        - /webhooks/0/clientConfig/caBundle
    configManagementPlugins: |
      - name: argocd-vault
        generate:
          command: [argocd-vault-plugin]
          args: [generate, ./]
  params:
    server.insecure: "true"

server:
  replicas: 1
  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - argocd.creaty.club
  resources:
    requests:
      memory: 50Mi
    limits:
      memory: 150Mi

controller:
  replicas: 1
  resources:
    requests:
      memory: 300Mi
    limits:
      memory: 500Mi

dex:
  resources:
    requests:
      memory: 30Mi
    limits:
      memory: 40Mi

redis:
  resources:
    requests:
      memory: 10Mi
    limits:
      memory: 20Mi

repoServer:
  image:
    repository: ghcr.io/creaty-co/creaty-root-chart/argocd-vault
    tag: v2.8.4-1.17.0
  env:
    - name: AVP_TYPE
      value: vault
    - name: VAULT_ADDR
      value: http://vault.vault:8200
    - name: AVP_AUTH_TYPE
      value: k8s
    - name: AVP_K8S_ROLE
      value: argocd-role
  resources:
    requests:
      memory: 130Mi
    limits:
      memory: 180Mi

applicationSet:
  resources:
    requests:
      memory: 30Mi
    limits:
      memory: 40Mi

notifications:
  resources:
    requests:
      memory: 30Mi
    limits:
      memory: 40Mi
